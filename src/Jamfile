#
# $Id$
#

SubDir TOP src ;

BonkForte ;

if $(NEED_GETOPT)
{
   GETOPT_SOURCE = getopt.c getopt1.c ;
   GETOPT_INC    = getopt.h ;
}

if $(PREPROCESSING)
{
   if $(NEED_REGEX)
   {
      REGEX_SOURCE = regex.c ;
      REGEX_INC    = regex.h ;
      if $(MSVCNT)
      {
         ObjectCcFlags $(REGEX_SOURCE) : -D__STDC__ -D_POSIX_SOURCE -DREGEX_MALLOC -DSTDC_HEADERS ;
      }
   }
   else
   {
      REGEX_SOURCE = ;
   }
   GPSSetupLibrary gpstk ;
}
else
{
   GPSBuildLibrary gpstk : $(REGEX_SOURCE) Exception.cpp BinUtils.cpp
      VectorBase.cpp DayTime.cpp Triple.cpp Geodetic.cpp
      ECEF.cpp Xvt.cpp EngNav.cpp EngEphemeris.cpp EngAlmanac.cpp
      AlmOrbit.cpp ObservationStore.cpp BCEphemerisStore.cpp
      SP3EphemerisStore.cpp AlmanacStore.cpp TropModel.cpp
      IonoModel.cpp IonoModelStore.cpp
      FFStream.cpp FFData.cpp RinexMetData.cpp RinexMetHeader.cpp
      RinexObsData.cpp RinexObsHeader.cpp RinexNavData.cpp RinexNavHeader.cpp
      SP3Data.cpp SP3Header.cpp FileSpec.cpp FileHunter.cpp 
      $(GETOPT_SOURCE) CommandOption.cpp CommandOptionParser.cpp
      CommandOptionWithTimeArg.cpp BasicFramework.cpp LoopedFramework.cpp
      EphemerisRange.cpp TabularEphemerisStore.cpp 
      RinexEphemerisStore.cpp RungeKutta4.cpp
      MSCData.cpp SMODFData.cpp LinearClockModel.cpp
      ObsClockModel.cpp ObsRngDev.cpp
      FICData.cpp FICHeader.cpp 
      FICData109.cpp FICData9.cpp FICData162.cpp FICData62.cpp
      CodeBuffer.cpp GenXSequence.cpp SVPCodeGen.cpp X1Sequence.cpp
      X2Sequence.cpp GPSZcount.cpp Position.cpp
      CommandOptionWithPositionArg.cpp
      PRSolution.cpp
      RACRotation.cpp SVExclusionList.cpp
      TimeConverters.cpp TimeString.cpp 
      CommonTime.cpp TimeTag.cpp ANSITime.cpp CivilTime.cpp 
      GPSEpochWeekSecond.cpp GPSWeekSecond.cpp 
      GPSWeekZcount.cpp GPSZcount32.cpp
      GPSZcount29.cpp JulianDate.cpp MJD.cpp UnixTime.cpp YDSTime.cpp
      SystemTime.cpp
      Expression.cpp
      RinexSatID.cpp SP3SatID.cpp
      ObsID.cpp
      ;

   InstallFile $(INCDIR) : AlmOrbit.hpp AlmanacStore.hpp BCEphemerisStore.hpp
      BinUtils.hpp DayTime.hpp ECEF.hpp EngAlmanac.hpp EngEphemeris.hpp 
      EngNav.hpp EphemerisStore.hpp Exception.hpp FFBinaryStream.hpp 
      FFData.hpp FFStream.hpp FFStreamError.hpp FFTextStream.hpp
      SatID.hpp RinexSatID.hpp SP3SatID.hpp
      FileFilter.hpp FileFilterFrame.hpp FileFilterFrameWithHeader.hpp 
      FileHunter.hpp FileSpec.hpp FileUtils.hpp GPSGeoid.hpp Geodetic.hpp
      GeoidModel.hpp MathBase.hpp Matrix.hpp MatrixBase.hpp 
      MatrixBaseOperators.hpp MatrixFunctors.hpp MatrixImplementation.hpp
      MatrixOperators.hpp MiscMath.hpp ObservationStore.hpp PolyFit.hpp 
      RTFileFrame.hpp RinexMetBase.hpp RinexMetData.hpp 
      RinexMetFilterOperators.hpp RinexMetHeader.hpp RinexMetStream.hpp
      RinexNavBase.hpp RinexNavData.hpp RinexNavFilterOperators.hpp
      RinexNavHeader.hpp RinexNavStream.hpp RinexObsBase.hpp
      RinexObsData.hpp RinexObsFilterOperators.hpp RinexObsHeader.hpp
      RinexObsStream.hpp SP3Base.hpp SP3Data.hpp SP3EphemerisStore.hpp
      SP3Header.hpp SP3Stream.hpp Stats.hpp StringUtils.hpp Triple.hpp
      TropModel.hpp IonoModel.hpp IonoModelStore.hpp
      Vector.hpp VectorBase.hpp VectorBaseOperators.hpp VectorOperators.hpp 
      WGS84Geoid.hpp Xvt.hpp
      convhelp.hpp geometry.hpp gps_constants.hpp icd_200_constants.hpp
      stl_helpers.hpp CommandOption.hpp CommandOptionParser.hpp
      CommandOptionWithTimeArg.hpp BasicFramework.hpp
      EphemerisRange.hpp LoopedFramework.hpp TabularEphemerisStore.hpp
      RinexEphemerisStore.hpp FileStore.hpp RungeKutta4.hpp
      $(GETOPT_INC) $(REGEX_INC)
      MSCData.hpp MSCStream.hpp SMODFData.hpp SMODFStream.hpp
      ClockModel.hpp EpochClockModel.hpp LinearClockModel.hpp
      ObsClockModel.hpp ObsRngDev.hpp ValidType.hpp ORDEpoch.hpp
      FICAStream.hpp FICBase.hpp FICData.hpp FICData9.hpp 
      FICData109.hpp FICData162.hpp FICData62.hpp FICFilterOperators.hpp
      FICHeader.hpp FICStream.hpp FICStreamBase.hpp
      CodeBuffer.hpp GenXSequence.hpp PCodeConst.hpp SVPCodeGen.hpp
      X1Sequence.hpp X2Sequence.hpp GPSZcount.hpp Position.hpp
      CommandOptionWithPositionArg.hpp
      PRSolution.hpp
      RACRotation.hpp SVExclusionList.hpp
      TimeConstants.hpp TimeConverters.hpp TimeString.hpp
      CommonTime.hpp TimeTag.hpp ANSITime.hpp CivilTime.hpp 
      GPSEpochWeekSecond.hpp GPSWeekSecond.hpp
      GPSWeekZcount.hpp GPSZcount32.hpp
      GPSZcount29.hpp JulianDate.hpp MJD.hpp UnixTime.hpp YDSTime.hpp 
      SystemTime.hpp
      gpstkplatform.h mergePCodeWords.h BivarStats.hpp
      Expression.hpp ObsID.hpp
      ;
}

