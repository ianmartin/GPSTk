# $Id$

SubDir TOP apps MDPtools ;

# Note that the local library needs to be declaired and built prior to anything
# else is done.
GPSLinkLibraries mdplib : rxio gpstk ;
Library mdplib : MDPProcessors.cpp SummaryProc.cpp TrackProc.cpp NavProc.cpp ;


# Now we can set up the things that depend upon the local library. Note that
# the LinkLibraries rule for mdplib must preceede the GPSLinkLibraries rule
# for things to build properly
LinkLibraries mdptool mdp2rinex : mdplib ;
GPSLinkLibraries mdptool mdp2rinex : rxio gpstk ;

BonkForte ;

GPSMain mdptool : mdptool.cpp ;

GPSMain mdp2rinex : mdp2rinex.cpp ;

if $(UNIX)
{
  if $(OS) = SOLARIS  {
    LINKLIBS += -lcurses ;
  }
  else {
    LINKLIBS += -lncurses ;
  }

  GPSLinkLibraries mdpscreen.bin : gpstk rxio ;
  LinkLibraries mdpscreen.bin : mdplib ;

  GPSMain mdpscreen.bin : mdpscreen.cpp ScreenProc.cpp ;

  InstallBin $(BINDIR) : mdpscreen mdpscreen.bin ;
}
