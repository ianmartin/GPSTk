# $Id$

SubDir TOP apps reszilla ;

# It seems that if I explicity add the src directory, things are much happier.
SEARCH_SOURCE += $(TOP)/src ;
SEARCH_SOURCE += $(TOP)/apps/MDPtools ;

if ( $(C++) = CC ) && ( $(OS) = SOLARIS )
{
  CCFLAGS += -Xc ;
  C++FLAGS += -compat=5 ;
}

Library rlib : util.cpp readers.cpp ordUtils.cpp DDEpoch.cpp PhaseCleaner.cpp
  PhaseResidual.cpp MDPHeader.cpp MDPObsEpoch.cpp MDPNavSubframe.cpp 
  RobustLinearEstimator.cpp OrdEngine.cpp ;

Library datalib : ObsUtils.cpp FFIdentifier.cpp ObsReader.cpp EphReader.cpp 
  MDP2Rinex.cpp ;

LinkLibraries reszilla mkord : datalib rlib datalib rlib ;

GPSLinkLibraries reszilla mkord : gpstk datalib rlib datalib rlib ;

GPSMain reszilla : reszilla.cpp ;

GPSMain mkord : mkord.cpp ;

InstallBin $(BINDIR) : resplot ;

