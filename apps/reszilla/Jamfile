# $Id$

SubDir TOP apps reszilla ;

# It seems that if I explicity add the src directory, things are much happier.
SEARCH_SOURCE += $(TOP)/src ;
SEARCH_SOURCE += $(TOP)/apps/MDPtools ;

if ( $(C++) = CC ) && ( $(OS) = SOLARIS )
{
  CCFLAGS += -Xc ;
  C++FLAGS += -compat=5 ;
}

Library rlib : util.cpp readers.cpp ordUtils.cpp DDEpoch.cpp PhaseCleaner.cpp
  PhaseResidual.cpp MDPHeader.cpp MDPObsEpoch.cpp MDPNavSubframe.cpp 
  RobustLinearEstimator.cpp ;

Library datalib : ObsUtils.cpp FFIdentifier.cpp ObsReader.cpp EphReader.cpp 
  MetReader.cpp MDP2Rinex.cpp OrdApp.cpp OrdEngine.cpp ;

LinkLibraries reszilla mkord ordGen ordClock ordEdit ordStats ordLinEst : datalib
   rlib datalib rlib ;

GPSLinkLibraries reszilla mkord ordGen ordClock ordEdit ordStats ordLinEst : gpstk datalib rlib
   datalib rlib ;

GPSMain reszilla : reszilla.cpp ;

GPSMain mkord : mkord.cpp ;

GPSMain ordGen : ordGen.cpp ;

GPSMain ordClock : ordClock.cpp ;

GPSMain ordLinEst : ordLinEst.cpp ;

GPSMain ordEdit : ordEdit.cpp ;

GPSMain ordStats : ordStats.cpp ;

InstallBin $(BINDIR) : resplot ordPlot ;
